<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Diseño de PCB 6 Capas - Sistema de Control Satelital Analógico - Simón Aulet</title>
    <link rel="stylesheet" href="style.css">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600&family=Roboto+Mono:wght@400;500&display=swap" rel="stylesheet">
    <link rel="icon" href="favicon.svg" type="image/svg+xml">
    <link rel="shortcut icon" href="favicon.ico" type="image/x-icon">
</head>
<body>
    <div class="container">
        <header>
            <h1>Diseño de PCB 6 Capas - Sistema de Control Satelital Analógico</h1>
            <p class="subtitle">Simón Aulet · KiCad · LTSpice · Diseño Analógico · PCB Multilayer</p>
            <p class="description">Diseño integral en KiCad de un sistema de control satelital analógico implementado con componentes discretos. Incluye simulación en LTSpice de etapas críticas: comparadores con histéresis, latches analógicos, temporizadores y conmutación de fuentes.</p>
            <div class="tech-tags">
                <span>KiCad</span>
                <span>LTSpice</span>
                <span>PCB 6 Capas</span>
                <span>Diseño Analógico</span>
                <span>Simulación</span>
                <span>Control Satelital</span>
            </div>
            <div class="navigation">
                <a href="index.html" class="nav-link">← Volver al Portafolio Principal</a>
            </div>
        </header>

        <main>
            <div class="content-wrapper">
                <h2>Diseño de PCB 6 capas para Sistema de Control Satelital Analógico</h2>

                <div style="text-align: center; margin: 30px 0;">
                    <img src="img/pcb.0.3Dboard1.png" alt="PCB Principal Renderizado" style="max-width: 100%; border: 2px solid #003366;">
                    <p style="text-align: center; font-style: italic; color: #555; margin-top: 10px;">Render 3D del PCB principal - el cerebro analógico del sistema de control satelital</p>
                </div>

                <h3>Contexto</h3>
                <p>Desarrollo grupal de un sistema de control satelital analógico implementado con componentes discretos. El sistema integra detección de orientación mediante fotoresistencias, sensado térmico, generación de PWM analógica, posicionamiento de servomotor, circuitos de timing, latches analógicos y lógica de control autónoma.</p>

                <h3>Mi Contribución</h3>
                <p><strong>Diseño integral en KiCad:</strong> Integración y desarrollo físico del sistema a partir de los módulos implementados en el laboratorio. Esto implica la creación del esquemático unificado en KiCad, selección estratégica de componentes compatibles con el montaje industrial, gestión de footprints y modelos 3D, implementación de clases de diseño para separación de señales (analógicas, digitales, potencia), routing crítico, y validación exhaustiva mediante ERC/DRC, culminando en un PCB de 6 capas listo para fabricación.</p>

                <p><strong>Simulación y validación analógica:</strong> Simulación en LTSpice de etapas clave: comparadores con histéresis (Schmitt trigger), generador de PWM analógico, circuitos de temporización, lógica de decisión para conmutación de fuentes vía relays, y latches implementados con transistores NPN.</p>

                <hr style="border: 1px solid #c41e3a; margin: 40px 0;" />

                <h2>Fase 1: La Arquitectura</h2>

                <h3>Sistema general</h3>
                <div style="text-align: center; margin: 30px 0;">
                    <img src="img/pcb.0.schematic_root.jpg" alt="Diagrama de Bloques del Sistema" style="max-width: 100%; border: 2px solid #003366;">
                    <p style="text-align: center; font-style: italic; color: #555; margin-top: 10px;">Hoja principal del esquemático - organizada como mapa de interconexiones entre subsistemas</p>
                </div>

                <p>El diseño se estructuró en <strong>6 subsheets modulares</strong>, cada uno encapsulando una función específica:</p>

                <ul style="margin-left: 20px; margin-bottom: 20px;">
                    <li><strong>Filtrado activo</strong> para acondicionamiento de señales de sensores LDR</li>
                    <li><strong>Sensado de orientación</strong> para detección eclipse/posición</li>
                    <li><strong>Control térmico</strong> con sensado LM35 y actuación</li>
                    <li><strong>Despliegue de paneles solares</strong> con control PWM y verificación</li>
                    <li><strong>Verificación de despliegue</strong> mediante temporizadores 555</li>
                    <li><strong>Selector de fuente</strong> para conmutación automática entre solar/batería</li>
                </ul>

                <p>La comunicación entre módulos se estableció mediante <strong>señales nombradas coherentemente</strong> usando prefijos. Por ejemplo <code>A_</code> → Señales analógicas sensibles, <code>C_</code> → Comandos y señales de control, <code>F_</code> → Realimentación, <code>L_</code> → Indicadores LED, etc. y sufijos para indicar entrada (<code>_I</code>) o salida (<code>_O</code>)</p>

                <h3>Planos Detallados</h3>
                <div style="margin: 30px 0; text-align: center;">
                    <iframe src="img/pcb.schematic.pdf" width="100%" height="600px" style="border: 2px solid #003366;">
                        <p>Tu navegador no soporta iframes. <a href="img/pcb.schematic.pdf">Descargar PDF</a></p>
                    </iframe>
                    <p style="text-align: center; font-style: italic; color: #555; margin-top: 10px;">Esquemáticos completos del sistema</p>
                </div>

                <h3>Selección de Componentes</h3>
                <p>Cada componente fue elegido considerando especificaciones eléctricas, disponibilidad, implicaciones de layout, y requerimientos térmicos/mecánicos. Se intentó usar todo del mismo fabricante (Texas Instruments) cuando fue posible:</p>

                <table>
                    <tr>
                        <th>Componente</th>
                        <th>Fabricante</th>
                        <th>Características Clave</th>
                        <th>Razón de Selección</th>
                    </tr>
                    <tr>
                        <td><strong>LM35</strong></td>
                        <td>Texas Instruments</td>
                        <td>Sensor de temperatura, TO-220</td>
                        <td>Permite atornillado directo a baterías/fuentes de calor para medición precisa</td>
                    </tr>
                    <tr>
                        <td><strong>LM358B</strong></td>
                        <td>Texas Instruments</td>
                        <td>Op-amp dual, SMD, 0.1µF en Vcc</td>
                        <td>Estabilidad demostrada, compensación integrada, paquete compacto</td>
                    </tr>
                    <tr>
                        <td><strong>CSD17577Q5A</strong></td>
                        <td>Texas Instruments</td>
                        <td>MOSFET N-ch, 25V, 6.7mΩ</td>
                        <td>Eficiencia en conmutación, baja Rds(on), optimo para relés</td>
                    </tr>
                    <tr>
                        <td><strong>RT314009</strong></td>
                        <td>TE Connectivity</td>
                        <td>Relay 9V/16A, 1 Forma C</td>
                        <td>Capacidad de corriente para conmutación de baterías, bobina compatible con 9V</td>
                    </tr>
                </table>

                <p><strong>Consideraciones de layout:</strong> Los encapsulados SMD se priorizaron para reducir inductancias parásitas, mientras que componentes como el LM35 en TO-220 ubicados en sensores externos permitieron montaje mecánico robusto donde se requería transferencia térmica directa.</p>

                <hr style="border: 1px solid #c41e3a; margin: 40px 0;" />

                <h2>Fase 2: Implementación Física - PCB de 6 Capas</h2>

                <h3>Estrategia de Stackup</h3>
                <p>La distribución en 6 capas se optimizó para garantizar integridad de señal y facilitar el debugging, con una separación clara de funciones:</p>

                <table>
                    <tr>
                        <th>Capa</th>
                        <th>Designación</th>
                        <th>Contenido Principal</th>
                        <th>Consideración Clave</th>
                    </tr>
                    <tr>
                        <td><strong>1</strong></td>
                        <td>F.Cu (Top)</td>
                        <td>Señales analógicas críticas</td>
                        <td>Accesible para medición, trazos cortos</td>
                    </tr>
                    <tr>
                        <td><strong>2</strong></td>
                        <td>In1.Cu</td>
                        <td>Plano de tierra contínuo</td>
                        <td>Referencia de baja impedancia</td>
                    </tr>
                    <tr>
                        <td><strong>3</strong></td>
                        <td>In2.Cu</td>
                        <td>Distribución de alimentación</td>
                        <td>Separación entre potencia limpia y general</td>
                    </tr>
                    <tr>
                        <td><strong>4</strong></td>
                        <td>In3.Cu</td>
                        <td>Señales de control y setpoints</td>
                        <td>Aislamiento de rutas analógicas</td>
                    </tr>
                    <tr>
                        <td><strong>5</strong></td>
                        <td>In4.Cu</td>
                        <td>Interconexiones y LEDs</td>
                        <td>Capa utilitaria</td>
                    </tr>
                    <tr>
                        <td><strong>6</strong></td>
                        <td>B.Cu (Bottom)</td>
                        <td>Rutas analógicas de largo recorrido</td>
                        <td>"Autopistas" con routing predecible</td>
                    </tr>
                </table>

                <h3>Visualización de Capas</h3>
                <div style="overflow-x: auto; margin: 30px 0; padding: 30px 0; background: #1a1a1a; border-radius: 8px;">
                  <div style="display: flex; gap: 20px; min-width: min-content; padding: 0 25px;">
                    <div style="flex-shrink: 0; width: 360px;">
                      <img src="img/pcb.0.board1.png" alt="Capas 1 y 2" style="width: 100%; border-radius: 4px;">
                      <p style="text-align: center; color: #ccc; font-size: 1.0em; margin-top: 8px;">F.Cu + In1.Cu</p>
                    </div>
                    <div style="flex-shrink: 0; width: 360px;">
                      <img src="img/pcb.0.board2.png" alt="Capas 3 y 4" style="width: 100%; border-radius: 4px;">
                      <p style="text-align: center; color: #ccc; font-size: 1.0em; margin-top: 8px;">In2.Cu + In3.Cu</p>
                    </div>
                    <div style="flex-shrink: 0; width: 360px;">
                      <img src="img/pcb.0.board3.png" alt="Capas 5 y 6" style="width: 100%; border-radius: 4px;">
                      <p style="text-align: center; color: #ccc; font-size: 1.0em; margin-top: 8px;">In4.Cu + B.Cu</p>
                    </div>
                    <div style="flex-shrink: 0; width: 360px;">
                      <img src="img/pcb.0.board4.png" alt="Sensores Externos" style="width: 100%; border-radius: 4px;">
                      <p style="text-align: center; color: #ccc; font-size: 1.0em; margin-top: 8px;">Módulos Sensoriales</p>
                    </div>
                  </div>
                </div>

                <h3>Metodología de Routing</h3>
                <p>El routing siguió una jerarquía estricta, priorizando integridad sobre conveniencia:</p>

                <ol style="margin-left: 20px; margin-bottom: 20px;">
                    <li><strong>Tierra</strong> - Establecimiento de referencia con múltiples vías</li>
                    <li><strong>Alimentación</strong> - Trazos dimensionados según corriente requerida. Se separa alimentación de integrados (<code>power_clean</code>) de alimentación general</li>
                    <li><strong>Señales de feedback</strong> - Rutas directas y protegidas</li>
                    <li><strong>Señales analógicas</strong> - Minimización de longitud y cruces</li>
                    <li><strong>Control y LEDs</strong> - Completado de interconexiones</li>
                </ol>

                <p>Esta secuencia aseguró que las señales más sensibles tuvieran rutas óptimas antes de comprometer espacio con funcionalidades secundarias.</p>

                <h3>Subsistemas Externos y Conectividad</h3>
                <div style="text-align: center; margin: 30px 0;">
                    <img src="img/pcb.0.3Dboard4.png" alt="Módulos Sensoriales Externos" style="max-width: 100%; border: 2px solid #003366;">
                    <p style="text-align: center; font-style: italic; color: #555; margin-top: 10px;">Sensores y actuadores distribuidos - solución modular con conectividad claramente identificada</p>
                </div>

                <p>El sistema completo se extiende más allá del PCB principal mediante módulos externos:</p>

                <ul style="margin-left: 20px; margin-bottom: 20px;">
                    <li><strong>4 módulos de detección de luz</strong>, cada uno con 1 LDR para cobertura omnidireccional.</li>
                    <li><strong>2 sensores de temperatura LM35</strong> para monitoreo térmico en ubicaciones críticas.</li>
                    <li><strong>1 módulo heater</strong> activado por la señal de alerta de baja temperatura.</li>
                    <li><strong>2 finales de carrera</strong> para detección física de apertura y cierre de paneles solares.</li>
                </ul>

                <p>Cada módulo es un <strong>PCB cuadrado de doble capa</strong> con orificios para montaje mecánico robusto. La interconexión con el board principal se realiza mediante cables conectados a <strong>borneras rotuladas en ambos extremos</strong>, asegurando una instalación libre de errores y facilitando el mantenimiento o reemplazo individual de cualquier subsistema sin afectar al conjunto.</p>

                <h3>Puntos Clave del Diseño</h3>
                <ul style="margin-left: 20px; margin-bottom: 20px;">
                    <li><strong>Separación efectiva de dominios:</strong> Las 63 señales organizadas en clases permitieron aplicar reglas de diseño consistentes y automatizadas.</li>
                    <li><strong>Routing jerárquico exitoso:</strong> Comenzar con referencia y alimentación, luego señales críticas, finalmente funcionalidades secundarias.</li>
                    <li><strong>Debugging incorporado:</strong> Todas las señales críticas accesibles en capas externas, con espacio para puntos de prueba donde fue necesario.</li>
                    <li><strong>Cumplimiento sobrado de especificaciones:</strong> El diseño final excede los requerimientos mínimos de clearance y ancho de trazo del fabricante seleccionado.</li>
                </ul>
            </div>
        </main>
        <div id="footer-container"></div>
    </div>
    <script>
        fetch('components/footer-general.html')
            .then(response => response.text())
            .then(data => {
                document.getElementById('footer-container').innerHTML = data;
            });
    </script>
</body>
</html>
